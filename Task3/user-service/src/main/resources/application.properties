# Server Configuration
server.port=8080

# MongoDB Configuration
#spring.data.mongodb.host=${MONGO_HOST:mongodb}
#spring.data.mongodb.port=${MONGO_PORT:27017}
#spring.data.mongodb.database=${MONGO_DB:users}
#spring.data.mongodb.username=${MONGO_USER:}
#spring.data.mongodb.password=${MONGO_PASSWORD:}
spring.data.mongodb.uri=mongodb://admin:admin123@mongodb:27017/users?authSource=admin

#spring.data.mongodb.uri=mongodb://mongodb:27017/users

# Redis Configuration for Session Management
spring.session.store-type=redis
spring.redis.host=${REDIS_HOST:redis}
spring.redis.port=${REDIS_PORT:6379}

# Additional Configuration
logging.level.org.springframework.data.mongodb=INFO
logging.level.com.shopfast.userservice=INFO
spring.application.name=user-service

logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.http.converter.json=TRACE
logging.level.com.fasterxml.jackson=TRACE


# Timeout Configurations
server.connection-timeout=30000
spring.mvc.async.request-timeout=30000
server.tomcat.connection-timeout=30000
server.tomcat.keep-alive-timeout=30000
server.tomcat.connection-properties=connectionTimeout=30000;socketTimeout=30000
spring.session.timeout=30m

# Error Handling
server.error.include-stacktrace=always
server.error.include-binding-errors=always
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Jackson Configuration
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.deserialization.accept-empty-string-as-null-object=true
spring.jackson.default-property-inclusion=non_null

# Enable detailed errors
server.error.include-message=always
